<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Installation · LANSuite</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="Installation · LANSuite"/><meta property="og:type" content="website"/><meta property="og:url" content="https://lansuite.github.io/lansuite/index.html"/><meta property="og:description" content="## Docker"/><meta property="og:image" content="https://lansuite.github.io/lansuite/img/docusaurus.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://lansuite.github.io/lansuite/img/docusaurus.png"/><link rel="shortcut icon" href="/lansuite/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://lansuite.github.io/blog/atom.xml" title="LANSuite Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://lansuite.github.io/blog/feed.xml" title="LANSuite Blog RSS Feed"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/lansuite/css/main.css"/></head><body class="sideNavVisible doc separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/lansuite/"><img class="logo" src="/lansuite/img/docusaurus.svg" alt="LANSuite"/><h2 class="headerTitleWithLogo">LANSuite</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive siteNavItemActive"><a href="/lansuite/docs/installation.html" target="_self">Docs</a></li><li class=""><a href="/lansuite/en/credits.html" target="_self">Credits</a></li><li class=""><a href="/lansuite/blog" target="_self">Blog</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Getting Started</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Getting Started</h3><ul><li class="navListItem"><a class="navItem" href="/lansuite/docs/requirements.html">Requirements</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/lansuite/docs/installation.html">Installation</a></li><li class="navListItem"><a class="navItem" href="/lansuite/docs/configuration.html">Configuration</a></li></ul></div><div class="navGroup navGroupActive"><h3>Guides</h3><ul><li class="navListItem"><a class="navItem" href="/lansuite/docs/upgrade.html">Upgrade to a newer version</a></li></ul></div><div class="navGroup navGroupActive"><h3>Development</h3><ul><li class="navListItem"><a class="navItem" href="/lansuite/docs/api-docs.html">Generating API docs</a></li><li class="navListItem"><a class="navItem" href="/lansuite/docs/coding-style-guide.html">Coding style guide</a></li><li class="navListItem"><a class="navItem" href="/lansuite/docs/documentation.html">Documentation</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1>Installation</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="docker"></a><a href="#docker" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Docker</h2>
<p>We assume that you have a running <a href="https://www.docker.com/community-edition">Docker Community Edition</a> installed.</p>
<pre><code class="hljs"><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">clone</span> https://github.com/lansuite/lansuite.git</span>
<span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> lansuite</span>
<span class="hljs-meta">$</span><span class="bash"> touch ./inc/base/config.php</span>
<span class="hljs-meta">$</span><span class="bash"> <span class="hljs-comment"># Add the content of the example configuration file below into ./inc/base/config.php</span></span>
<span class="hljs-meta">$</span><span class="bash"> chmod 0777 ./inc/base/config.php</span>
<span class="hljs-meta">$</span><span class="bash"> chmod -R 0777 ./ext_inc/</span>
<span class="hljs-meta">$</span><span class="bash"> docker-compose up</span>
<span class="hljs-meta">$</span><span class="bash"> docker-compose run php composer install</span>
</code></pre>
<p>This will start a <a href="https://nginx.org/">Nginx webserver</a> with a <a href="https://secure.php.net/manual/en/install.fpm.php">php-fpm</a> configuration and a <a href="https://www.mysql.com/">MySQL database</a> for you.
After everything started you should be able to visit http://<code>&lt;Your-Docker-IP&gt;</code>:8080/ and see a running LanSuite-System.</p>
<p><em>Warning</em>: This Docker setup should not be used for production. It contains a debugging setup like <a href="https://xdebug.org/">Xdebug</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="docker-with-a-database-dump"></a><a href="#docker-with-a-database-dump" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Docker with a database dump</h2>
<p>If you have already a running website based on LanSuite, you can also start a docker based setup with a copy of your database.
It comes handy to test the new features with your dataset.</p>
<p>This guide assumes that you have already a copy of your database in a single SQL file.
If you don't have one, you can create one with tools like <a href="https://dev.mysql.com/doc/refman/5.7/en/mysqldump-sql-format.html">mysqldump</a>, <a href="https://www.phpmyadmin.net/">PHPMyAdmin</a> or ask your hoster for a copy.</p>
<p>Move your database dump into the root folder of LanSuite and name it <code>database-dump.sql</code>:</p>
<pre><code class="hljs">$ mv <span class="hljs-regexp">/your/</span>db<span class="hljs-regexp">/dump.sql /</span>lansuite<span class="hljs-regexp">/copy/</span>database-<span class="hljs-keyword">dump</span>.sql
</code></pre>
<p>After this, you can start the <a href="https://docs.docker.com/compose/">docker-compose</a> setup via</p>
<pre><code class="hljs">$ docker-compose -f docker-compose<span class="hljs-selector-class">.yml</span> -f docker-compose<span class="hljs-selector-class">.dump</span><span class="hljs-selector-class">.yml</span> up
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="common-issues"></a><a href="#common-issues" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Common issues</h2>
<h3><a class="anchor" aria-hidden="true" id="error-couldn-t-connect-to-docker-daemon"></a><a href="#error-couldn-t-connect-to-docker-daemon" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>ERROR: Couldn't connect to Docker daemon</code></h3>
<blockquote>
<p>Some distributions (e.g. Fedora) restrict access to the docker daemon socket to user <code>root</code> only.
This results in a error message as <code>ERROR: Couldn't connect to Docker daemon at http+docker://localunixsocket - is it running?</code>
Run the two <code>docker-compose</code> commands as user <code>root</code> (via <code>su</code>or <code>sudo</code>) in that case.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="error-for-web-cannot-start-service-web"></a><a href="#error-for-web-cannot-start-service-web" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>ERROR: for web Cannot start service web</code></h3>
<blockquote>
<p>A different issue exists in Docker for Windows: If you get an error like: <code>ERROR: for web Cannot start service web: OCI runtime create failed: container_linux.go:348: starting container process caused &quot;process_linux.go:402: container init caused \&quot;rootfs_linux.go:58: mounting \\\&quot;/c/xampp/htdocs/lansuite/.docker/nginx-development.conf\\\&quot; to rootfs \\\&quot;/mnt/sda1/var/lib/docker/aufs/mnt/a302993ced4b16d16c0ab56c001d97fbdb9742f2f5beff079b18be797e95ff2a\\\&quot; at \\\&quot;/mnt/sda1/var/lib/docker/aufs/mnt/a302993ced4b16d16c0ab56c001d97fbdb9742f2f5beff079b18be797e95ff2a/etc/nginx/conf.d/default.conf\\\&quot; caused \\\&quot;not a directory\\\&quot;\&quot;&quot;: unknown: Are you trying to mount a directory onto a file (or vice-versa)? Check if the specified host path exists and is the expected type</code>
Then you need to enable drive sharing for the host drive the docker image is stored on as described on <a href="http://peterjohnlightfoot.com/docker-for-windows-on-hyper-v-fix-the-host-volume-sharing-issue/">Fix the Host Volume Sharing issue</a>.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="error-version-in-docker-composeyml-is-unsupported-you-might-be-seeing-this-error-because-you-re-using-the-wrong-compose-file-version"></a><a href="#error-version-in-docker-composeyml-is-unsupported-you-might-be-seeing-this-error-because-you-re-using-the-wrong-compose-file-version" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>ERROR: Version in &quot;./docker-compose.yml&quot; is unsupported. You might be seeing this error because you're using the wrong Compose file version.</code></h3>
<blockquote>
<p>Your <code>docker-compose</code> version is most likely outdated. Currently LanSuite uses the Compose file format v3.0, hence you need at least Compose version 1.10.0 or higher. If you have installed it using your distribution's package manager please uninstall it and follow <a href="https://docs.docker.com/compose/install/">the official installation guide</a> on how to install a more-recent version.</p>
</blockquote>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="requirements.html">← Requirements</a><a class="docs-next button" href="configuration.html">Configuration →</a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#docker">Docker</a></li><li><a href="#docker-with-a-database-dump">Docker with a database dump</a></li><li><a href="#common-issues">Common issues</a><ul class="toc-headings"><li><a href="#error-couldn-t-connect-to-docker-daemon"><code>ERROR: Couldn't connect to Docker daemon</code></a></li><li><a href="#error-for-web-cannot-start-service-web"><code>ERROR: for web Cannot start service web</code></a></li><li><a href="#error-version-in-docker-composeyml-is-unsupported-you-might-be-seeing-this-error-because-you-re-using-the-wrong-compose-file-version"><code>ERROR: Version in &quot;./docker-compose.yml&quot; is unsupported. You might be seeing this error because you're using the wrong Compose file version.</code></a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/lansuite/" class="nav-home"><img src="/lansuite/img/docusaurus.svg" alt="LANSuite" width="66" height="58"/></a><div><h5>Docs</h5><a href="/lansuite/docs/installation.html">Getting Started</a><a href="/lansuite/docs/upgrade.html">Guides</a></div><div><h5>More</h5><a class="github-button" href="https://github.com/lansuite/lansuite" data-count-href="/lansuite/lansuite/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">lansuite</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/lansuite/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2019 LANSuite team and contributors</section></footer></div></body></html>